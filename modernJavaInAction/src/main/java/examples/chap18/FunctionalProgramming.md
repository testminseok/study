# Functional Programming

함수형 프로그래밍이란 간단히 함수를 이용하는 프로그래밍이다.
그러면 함수란 무엇일까, 함수형 프로그래밍에서 **함수**란 수학적인 함수와 같다.
즉 0개 이상의 인수를 가지며, 한 개 이상의 결과를 반환하지만 **부작용이 없어야한다**.
자바와 같은 언어에서는 바로 수학적인 함수냐 아니냐가 메소드와 함수를 구분하는 핵심이다.
특히 인수가 같다면 수학적 함수를 반복적으로 호출했을 때 항상같은 결과가 반환된다.
**함수형**이라는 말은 '수학의 함수처럼 부작용이 없는'을 의미한다. 
결과적으로 '함수 그리고 if-then-else 등의 수학적 표현만 사용'하는 방식을 순수 함수형 프로그래밍이라고 하며
'시스템의 다른 부분에 영향을 미치지 않는다면 내부적으로는 함수형이 아닌 기능도 사용'하는 방식을 함수형 프로그래밍이라 한다.

## 동시성
프로그래밍에서 동시성 버그를 고치는 일은 굉장히 어려운일이다.
자바에서는 이러한 동시성 문제를 자바8의 스트림을 이용하면 잠금(locking) 문제를 신경 쓰지 않을 수 있다.
그러나 자바 8의 스트림을 이용하려면 상태 없는 동작이어야 한다는 조건을 만족해야한다.
유지보수 하기 쉬운 프로그램이란, 시스템의 각 부분의 상호 의존성을 가리키는 결합성과 시스템의 다양한 부분이
서로 어떤 관게를 갖는지 가리키는 응집성이라는 소트트웨어 엔지니어링 도구로 프로그램 구조를 평가 할 수 있다.

그러나 실질적으로 유지보수 중 코드 크래시 디버깅 문제를 가장 많이 겪게 된다. 코드 크래시는 예상하지 못한 변숫값 때문에 발생할 수 있다.
함수형 프로그래밍이 제공하는 부작용 없음(no side effect)과 불변성(immutability)이라는 개념이 이 문제를 해결하는데 도음이 된다.

## 순수메소드(Pure Method)
순수메소드(PureMethod) 또는 부작용 없는 메소드(side effect free method) 란 자신을 포함하는 클래스의 상태 그리고 다른 객체의 상태를 바꾸지 않으며 
return 문을 통해서만 자신의 결과를 반환하는 메소드를 말한다.

여기서 말하는 부작용이란 함수 내에 포함되지 못한 기능을 부작용이라 한다.
- 자료구조를 고치거나 필드에 값을 할당(setter 메소드 같은 생성자 이외의 초기화 동작)
- 예외 발생
- 파일 쓰기 등의 I/O 동작 수행

이러한 부작용을 없애는 방법 중 하나는 불변객체를 이용하는 것이다. 불변 객체는 인스턴스화한 다음에는 객체의 상태를 바꿀 수 없는 객체이므로
함수 동작에 영향을 받지 않는다. 또한 인스턴스화한 불변 객체의 상태는 결코 변경되지 않으며, 예상하지 못한 상태로 바뀌지 않는다.
따라서 불변 객체는 복사하지 않고 공유할 수 있으며, 객체의 상태를 바꿀 수 없으므로 스레드 안정성을 제공한다.

## 참조 투명성(referential transparency)
'부작용을 감춰야 한다'라는 제약은 참조 투명성 개념으로 귀결된다. 즉 같은 인수로 함수를 호출했을 때 항상 같은 결과를 반환한다면
참조적으로 투명한 함수라고 표현한다. 다시말해 함수는 어떤 입력이 주어졌을 때 언제, 어디서 호출하든 같은 결과를 생성해야한다.
참조 투명성은 비싸거나 오랜 시간이 걸리는 연산을 기억화(memorization)또는 캐싱(caching)을 통해 다시 계산하지 않고 저장하는 최적화 기능도 제공한다.

자바에는 참조 투명성과 관련한 작은 문제가 있는데, List 를 반환하는 함수를 두번 호출한다고 가정했을때, 두번의 호출 결과로 같은 요소를 포함하지만,
서로 다른 메모리 공간에 생성된 리스트를 참조할 것이다. 결과 리스트가 가변 객체(객체에 할당된 값을 변경할 수 있는 객체)라면 리스트를 반환하는 메소드는
참조적으로 투명한 메소드가 안니라는 결론이 나온다. 결과 리스트를 (불변의) 순수값으로 사용할 것이라면 두 리스트가 같은 객체라고 볼 수 있으므로 
리스트 생성 함수는 참조적으로 투명한것으로 간주 될 수 있다. 일반적으로 **함수형 코드에서는 이런 함수를 참조적으로 투명한 것으로 간주한다**
