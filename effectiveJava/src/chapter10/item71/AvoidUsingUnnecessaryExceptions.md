# 필요 없는 검사 예외 사용은 피하라
검사 예외를 제대로 활용하면 API와 프로그램의 질을 높일 수 있고, 프로그래머가 발생한 문제를 처리하여 안정성을 높이게끔 해준다.
하지만 검사 예외를 과하게 사용하면 오히려 사용자가 사용하기 불편한 API가 된다.
검사 예외를 던질 수 있다고 선언된 API 는 이를 호출하는 코드에서 catch를 사용하여 그 예외를 붙잡아 처리하거나 더 바깥으로 throws 하여 문제를 전파해야한다. 
어느 쪽이든 API 사용자에게 부담이 될 수 있다. 
또한 검사 예외를 던지는 메서드는 스트림 안에서 직접 사용할 수 없기 때문에 자바 8부터는 더욱 부담이 커졌다.
API를 제대로 사용해도 발생할 수 있는 예외이거나, 프로그래머가 의미 있는 조치를 취할 수 있는 경우라면
이 정도의 부담은 문제가 되지 않지만 둘 중 어디에도 해당되지 않는다면 비검사 예외를 사용하는게 좋다.

검사 예외가 단 하나라면 부담은 더 크다. 하나를 위해 try 블록을 추가해야 하고 스트림에서도 직접사용하지 못하기 때문이다.
그러니 검사 예외가 단 하나라면 검사 예외를 안던지는 방법이 있는지 다시한번 생각해 보는게 좋다.

검사 예외를 회피하는 가장 쉬운 방법은 적절한 타입을 담아 Optional 을 반환하는것이다.
검사 예외를 던지는 대신 빈 Optional 을 반환하면 된다.
이 방식에 단점이라면 예외가 발생한 이유에 대한 부가 정보를 제공할 수 없다는 것이다.
반면, 예외를 던지면 구체적인 예외 타입과 그 타입이 제공하는 메서드들을 활용해 부가 정보를 제공할 수 있다.

또 다른 방법으로 검사 예외를 던지는 메서드를 2개로 나누어 비검사 예외로 바꿀 수 있다.
```java
// 비검사 예외를 던지는 메서드 - 리펙토링 전
try {
    obj.action(args);
} catch (TheCheckedException e) {
    ... // 예외 상황에 대처한다.
}
```
```java
// 상태 검사 메서드와 비검사 예외를 던지는 메서드 - 리팩터링 후
if (obj.actionPermitted(args)) {
    obj.action(args);
} else {
    ... // 예외 상황에 대처한다.
}
```
모든 상황에 적용할 순 없지만 적용할 수 있는 상황이라면 더 쓰기 편한 API 를 제공할 수 있다.
더 아름답진 않지만 더욱 유연해졌다.

## 핵심정리
꼭 필요한 곳에만 사용한다면 검사 예외는 프로그램의 안정성을 높여주지만, 남용하면 쓰기 고통스러운 API가 만들어진다.
API 호출자가 예외 상황에서 복구할 방법이 없다면 비검사 예외를, 복구가 가능하고 호출자가 그 처리를 해주길 원한다면, 
우선 Optional 을 반환해도 될지 고민하자. Optional 만으로는 상황을 처리하기에 충분한 정보를 제공할 수 없을 때만 검사 예외를 던지자.